import{r as S,i as k,j as e,a as n,u as T,A as h,C as _,B as H,b as u,l as P,c as B,Q as x,d as m,f as O}from"./index-9ae9883f.js";import{u as R}from"./useDispatch-7886243e.js";var c={},A=k;Object.defineProperty(c,"__esModule",{value:!0});var p=c.default=void 0,D=A(S()),q=e,z=(0,D.default)((0,q.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Https");p=c.default=z;function I(){const[l,g]=n.useState(""),[o,f]=n.useState(""),[i,E]=n.useState(!1),v=T(),[a,j]=n.useState({}),w=R(),[d,b]=n.useState([]);n.useEffect(()=>{h.init(),h.refresh(),(async()=>{try{let s=await u.fetchThongbao();j(s.data),b(s.data.files)}catch(s){console.log(s.message)}})()},[]);const N=async t=>{t.preventDefault();const s=P({tentaikhoan:l,matkhau:o});try{const r=await w(s),C=B(r);v("/dashboard/trang-chu"),x.success("Đăng nhập thành công",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),m.remove("refreshToken_chamdiemcaicach"),m.set("refreshToken_chamdiemcaicach",C.refreshToken,{expires:7,secure:!0})}catch(r){x.error(r.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},y=async t=>{try{let s=await u.downloadFileLogin(t);O(s.data,t)}catch(s){console.log(s.message)}};return e.jsxs("div",{className:"md:flex-row flex flex-col min-h-screen",children:[e.jsxs("div",{className:"md:basis-1/2 flex flex-col items-center mt-10 hover:cursor-default px-8",children:[e.jsx("img",{src:"/conganhieu.png",alt:"logo",className:"w-[120px]"}),e.jsx("p",{className:"uppercase text-red-700 font-bold text-xl",children:"Bộ Công an"}),e.jsx("p",{className:"uppercase text-red-700 font-bold text-xl",children:"Cục Pháp chế và cải cách hành chính, tư pháp - v03"}),e.jsx("p",{className:"uppercase font-semibold text-lg",children:a==null?void 0:a.title}),e.jsx("p",{className:"font-semibold",children:a==null?void 0:a.noidung}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-red-700 font-semibold",children:"Các tài liệu, hướng dẫn liên quan đến phần mềm"}),d.length>0&&d.map(t=>e.jsxs("div",{className:"px-4",children:[e.jsxs("p",{children:["- ",t.text]}),e.jsx("p",{title:"Tải xuống",onClick:()=>y(t.link),className:"px-8 text-red-600 italic text-sm hover:underline hover:cursor-pointer",children:t.link})]}))]})]}),e.jsx("div",{className:"md:basis-1/2 flex items-center justify-center",children:e.jsxs("form",{className:"p-8 shadow-xl rounded-lg w-[80%] border-white border-2 bg-blue-700","data-aos":"fade-right",onSubmit:t=>N(t),children:[e.jsx("div",{className:"text-center my-2",children:e.jsx(p,{style:{color:"white",fontSize:"48px"}})}),e.jsx("h3",{className:"font-bold text-center text-white uppercase",style:{textShadow:"1px 1px 1px #333"},children:"Phần mềm xác định chỉ số cải cách hành chính"}),e.jsx("h3",{className:"font-bold text-center text-white uppercase",style:{textShadow:"1px 1px 1px #333"},children:"trong Công an nhân dân"}),e.jsx("div",{className:"flex flex-col my-2 mt-4",children:e.jsx("input",{value:l,type:"text",placeholder:"Tài khoản...",className:`w-full outline-none my-2 p-2 rounded-md \r
                     bg-white`,name:"username",onChange:t=>g(t.target.value)})}),e.jsx("div",{className:"flex flex-col mt-4 mb-4",children:e.jsx("input",{value:o,type:"password",placeholder:"Mật khẩu...",className:`w-full outline-none my-2 p-2 rounded-md\r
                   bg-white`,name:"password",onChange:t=>f(t.target.value)})}),i&&e.jsx("div",{className:"text-center",children:e.jsx(_,{})}),e.jsx(H,{color:"info",variant:"contained",className:"w-full",type:"submit",disabled:i,children:"Đăng nhập"}),e.jsx("p",{className:"text-md text-center text-white mt-4",children:"Đồng tác giả: Công an Hưng Yên - Hà Tĩnh - Bà Rịa Vũng Tàu"})]})})]})}export{I as default};
